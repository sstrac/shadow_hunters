[gd_scene load_steps=11 format=3 uid="uid://b0raqufcc5446"]

[ext_resource type="Script" uid="uid://d3rvrtssp1l64" path="res://Scripts/level/features/tree.gd" id="1_5vltj"]
[ext_resource type="Texture2D" uid="uid://cmcneh2cickpw" path="res://Assets/img/tree.png" id="1_yknac"]
[ext_resource type="PackedScene" uid="uid://c1xuupikwik72" path="res://Scenes/level/features/ShadowSprite.tscn" id="2_8thjf"]
[ext_resource type="PackedScene" uid="uid://ckgckoieuocgk" path="res://Scenes/level/features/ShadowCollision.tscn" id="3_8thjf"]
[ext_resource type="PackedScene" uid="uid://slstn3fiuydx" path="res://Scenes/level/features/Flammable.tscn" id="5_b8a3v"]
[ext_resource type="Texture2D" uid="uid://c5eha3s1s1eo6" path="res://Assets/img/burning_tree.png" id="6_pc54c"]
[ext_resource type="PackedScene" uid="uid://3qp0btdn4wnf" path="res://Scenes/level/RadialLight.tscn" id="7_pc54c"]

[sub_resource type="AtlasTexture" id="AtlasTexture_b8a3v"]
atlas = ExtResource("6_pc54c")
region = Rect2(0, 44, 32, 44)

[sub_resource type="AtlasTexture" id="AtlasTexture_pc54c"]
atlas = ExtResource("6_pc54c")
region = Rect2(0, 0, 32, 44)

[sub_resource type="SpriteFrames" id="SpriteFrames_bk21t"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_b8a3v")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_pc54c")
}],
"loop": true,
"name": &"default",
"speed": 3.0
}]

[node name="Tree" type="StaticBody2D"]
collision_layer = 5
script = ExtResource("1_5vltj")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="."]
position = Vector2(0, -20)
polygon = PackedVector2Array(-3, 11, -3, 17, -5, 19, -5, 20, 6, 20, 6, 19, 1, 17, 0, 15, 0, 11)

[node name="ShadowSprite" parent="." instance=ExtResource("2_8thjf")]
position = Vector2(0, 20)
texture = ExtResource("1_yknac")

[node name="Sprite2D" type="Sprite2D" parent="."]
position = Vector2(0, -20)
texture = ExtResource("1_yknac")

[node name="ShadowCollision" parent="." instance=ExtResource("3_8thjf")]
position = Vector2(0, -20)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="ShadowCollision"]
position = Vector2(0, 40)
polygon = PackedVector2Array(-7.8999996, 20, -9.1, 20, -9.1, 11.9, -8.1, 11.9, -8.1, 10.9, -7.1000004, 10.9, -7.1000004, 8.9, -6.1000004, 8.9, -6.1000004, 5.8999996, -5.1000004, 5.8999996, -5.1000004, 4.1000004, -5.8999996, 4.1000004, -5.8999996, 5.1000004, -6.8999996, 5.1000004, -6.8999996, 6.1000004, -7.8999996, 6.1000004, -7.8999996, 7.1000004, -10.1, 7.1000004, -10.1, 6.1000004, -11.1, 6.1000004, -11.1, 4.1000004, -12.1, 4.1000004, -12.1, 0.8999996, -11.1, 0.8999996, -11.1, -0.10000038, -10.1, -0.10000038, -10.1, -3.1000004, -9.1, -3.1000004, -9.1, -4.1000004, -8.1, -4.1000004, -8.1, -8.1, -6.8999996, -8.1, -6.8999996, -4.1000004, -5.8999996, -4.1000004, -5.8999996, -0.8999996, -6.8999996, -0.8999996, -6.8999996, 1.1000004, -7.8999996, 1.1000004, -7.8999996, 2.1000004, -9.1, 2.1000004, -9.1, 1.1000004, -9.9, 1.1000004, -9.9, 2.1000004, -10.9, 2.1000004, -10.9, 2.8999996, -9.9, 2.8999996, -9.9, 4.8999996, -8.1, 4.8999996, -8.1, 3.8999996, -7.1000004, 3.8999996, -7.1000004, 2.8999996, -6.1000004, 2.8999996, -6.1000004, 1.8999996, -5.1000004, 1.8999996, -5.1000004, 0.8999996, -4.1000004, 0.8999996, -4.1000004, -3.1000004, -3.1000004, -3.1000004, -3.1000004, -12.099998, -2.1000004, -12.099998, -2.1000004, -17.900002, -3.1000004, -17.900002, -3.1000004, -18.900002, -5.1000004, -18.900002, -5.1000004, -20, 6.1000004, -20, 6.1000004, -18.900002, 4.1000004, -18.900002, 4.1000004, -17.900002, 1.1000004, -17.900002, 1.1000004, -14.900002, 0.10000038, -14.900002, 0.10000038, -10.9, -0.8999996, -10.9, -0.8999996, -0.10000038, 0.10000038, -0.10000038, 0.10000038, 1.8999996, 1.1000004, 1.8999996, 1.1000004, 3.8999996, 2.1000004, 3.8999996, 2.1000004, 5.8999996, 3.1000004, 5.8999996, 3.1000004, 6.8999996, 4.1000004, 6.8999996, 4.1000004, 7.8999996, 5.1000004, 7.8999996, 5.1000004, 8.9, 6.1000004, 8.9, 6.1000004, 9.9, 7.1000004, 9.9, 7.1000004, 10.9, 9.1, 10.9, 9.1, 11.9, 11.9, 11.9, 11.9, 10.9, 12.9, 10.9, 12.9, 10.1, 11.9, 10.1, 11.9, 9.1, 9.9, 9.1, 9.9, 7.8999996, 14.1, 7.8999996, 14.1, 12.099998, 13.1, 12.099998, 13.1, 13.099998, 12.1, 13.099998, 12.1, 14.099998, 8.9, 14.099998, 8.9, 13.099998, 6.8999996, 13.099998, 6.8999996, 12.099998, 6.1000004, 12.099998, 6.1000004, 14.900002, 7.1000004, 14.900002, 7.1000004, 15.900002, 8.1, 15.900002, 8.1, 16.900002, 9.1, 16.900002, 9.1, 17.900002, 10.1, 17.900002, 10.1, 18.900002, 11.1, 18.900002, 11.1, 20, 8.9, 20, 8.9, 19.099998, 6.8999996, 19.099998, 6.8999996, 18.099998, 5.8999996, 18.099998, 5.8999996, 16.099998, 4.8999996, 16.099998, 4.8999996, 13.099998, 3.8999996, 13.099998, 3.8999996, 12.099998, 3.1000004, 12.099998, 3.1000004, 13.099998, 2.1000004, 13.099998, 2.1000004, 15.099998, 1.1000004, 15.099998, 1.1000004, 15.900002, 3.1000004, 15.900002, 3.1000004, 17.099998, 2.1000004, 17.099998, 2.1000004, 18.099998, -3.1000004, 18.099998, -3.1000004, 17.099998, -4.1000004, 17.099998, -4.1000004, 14.099998, -5.1000004, 14.099998, -5.1000004, 11.1, -5.8999996, 11.1, -5.8999996, 13.099998, -6.8999996, 13.099998, -6.8999996, 16.099998, -7.8999996, 16.099998)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="ShadowCollision"]
position = Vector2(0, 40)
polygon = PackedVector2Array(-9.1, -7.8999996, -9.1, -9.1, -7.8999996, -9.1, -7.8999996, -7.8999996)

[node name="CollisionPolygon2D3" type="CollisionPolygon2D" parent="ShadowCollision"]
position = Vector2(0, 40)
polygon = PackedVector2Array(2.8999996, 16.099998, 2.8999996, 14.900002, 4.1000004, 14.900002, 4.1000004, 16.099998)

[node name="CollisionPolygon2D4" type="CollisionPolygon2D" parent="ShadowCollision"]
position = Vector2(0, 40)
polygon = PackedVector2Array(-2.1000004, 11.1, -2.1000004, 9.9, -0.8999996, 9.9, -0.8999996, 11.1)

[node name="CollisionPolygon2D5" type="CollisionPolygon2D" parent="ShadowCollision"]
position = Vector2(0, 40)
polygon = PackedVector2Array(-3.1000004, 10.1, -3.1000004, 8.9, -1.8999996, 8.9, -1.8999996, 10.1)

[node name="Flammable" parent="." node_paths=PackedStringArray("fire_animation") instance=ExtResource("5_b8a3v")]
collision_layer = 4
collision_mask = 0
fire_animation = NodePath("../AnimatedSprite2D")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Flammable"]
polygon = PackedVector2Array(-3, -10, -1, -10, 0, -5, 3, -2, -4, -2, -3, -4)

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
visible = false
position = Vector2(0, -20)
sprite_frames = SubResource("SpriteFrames_bk21t")
autoplay = "default"
frame_progress = 0.6494252

[node name="RadialLight" parent="AnimatedSprite2D" instance=ExtResource("7_pc54c")]
position = Vector2(-3, -10)
scale = Vector2(0.8320313, 0.7089844)

[node name="RadialLight2" parent="AnimatedSprite2D" instance=ExtResource("7_pc54c")]
position = Vector2(-2, 15)
scale = Vector2(0.61328125, 0.5058594)
